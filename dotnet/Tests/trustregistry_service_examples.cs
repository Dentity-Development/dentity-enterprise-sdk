using System;
using System.Threading.Tasks;
using Trinsic;
using Trinsic.Sdk.Options.V1;
using Trinsic.Services.TrustRegistry.V1;

namespace Samples;

public class TrustRegistryServiceSamples
{
    private TrustRegistryService trustRegistryService => CreateTRS();

// BEGIN Doc Code generated by protoc-gen-trinsic. DO NOT EDIT.
// target: C:\work\sdk\dotnet\Tests\trustregistry_service_examples.cs

    public TrustRegistryService CreateTRS()
    {
// createTrustRegistryService() {
        var trinsic = new TrinsicService(new ServiceOptions()
        {
            AuthToken = "[YOUR-AUTH-TOKEN]"
        });

        var trustRegistryService = trinsic.TrustRegistry;
// }

        return trustRegistryService;
    }

    public async Task AddFramework()
    {
// trustRegistryAddFramework() {
        var addFrameworkRequest = new AddFrameworkRequest()
        {
            Name = "My Governance Framework",
            Description = "The governance framework for my ecosystem",
            GovernanceFrameworkUri = "https://example.com",
        };

        var addFrameworkResponse = await trustRegistryService.AddFrameworkAsync(addFrameworkRequest);
// }
    }

    public async Task RemoveFramework()
    {
// trustRegistryRemoveFramework() {
        var removeFrameworkRequest = new RemoveFrameworkRequest()
        {
            Id = "urn:egf:my-ecosystem:1297e60abb3b425faaaf0f0a551aae2c"
        };

        await trustRegistryService.RemoveFrameworkAsync(removeFrameworkRequest);
// }
    }

    public void SearchRegistry()
    {
// trustRegistrySearchRegistry() {
// }
    }

    public async Task RegisterMember()
    {
// trustRegistryRegisterMember() {
        var registerMemberRequest = new RegisterMemberRequest()
        {
            FrameworkId = "urn:egf:my-ecosystem:1297e60abb3b425faaaf0f0a551aae2c",
            DidUri = "did:example:test",
            SchemaUri = "https://schema.trinsic.cloud/okeydoke/foodsalvagerlicense",
            ValidFromUtc = (ulong)DateTimeOffset.UtcNow.ToUnixTimeSeconds(),
            ValidUntilUtc = (ulong)DateTimeOffset.UtcNow.ToUnixTimeSeconds() + (60*60*24*365) // Valid for 1 year
        };

        await trustRegistryService.RegisterMemberAsync(registerMemberRequest);
// }
    }

    public async Task UnregisterMember()
    {
// trustRegistryUnregisterMember() {
        var unregisterMemberRequest = new UnregisterMemberRequest()
        {
            FrameworkId = "urn:egf:my-ecosystem:1297e60abb3b425faaaf0f0a551aae2c",
            SchemaUri = "https://schema.trinsic.cloud/okeydoke/foodsalvagerlicense",
            DidUri = "did:example:test"
        };

        await trustRegistryService.UnregisterMemberAsync(unregisterMemberRequest);
// }
    }

    public async Task GetMembershipStatus()
    {
// trustRegistryGetMembershipStatus() {
        var getStatusRequest = new GetMembershipStatusRequest()
        {
            FrameworkId = "urn:egf:my-ecosystem:1297e60abb3b425faaaf0f0a551aae2c",
            SchemaUri = "https://schema.trinsic.cloud/okeydoke/foodsalvagerlicense",
            DidUri = "did:example:test"
        };

        var getStatusResponse = await trustRegistryService.GetMembershipStatusAsync(getStatusRequest);
// }
    }
    
// trustRegistryFetchData() {

// }

// END Doc Code generated by protoc-gen-trinsic. DO NOT EDIT.
}
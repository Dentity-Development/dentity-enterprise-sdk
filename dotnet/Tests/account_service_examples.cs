using System.Threading.Tasks;
using Trinsic;
using Trinsic.Sdk.Options.V1;
using Trinsic.Services.Account.V1;

namespace Samples;

public class AccountServiceSamples
{
    private AccountService accountService => CreateAS();

// BEGIN Doc Code generated by protoc-gen-trinsic. DO NOT EDIT.
// target: C:\work\sdk\dotnet\Tests\account_service_examples.cs

    public AccountService CreateAS()
    {
// createAccountService() {
        var trinsic = new TrinsicService(new ServiceOptions()
        {
            AuthToken = "[YOUR-AUTH-TOKEN]"
        });

        var accountService = trinsic.Account;
// }

        return accountService;
    }
// accountSignIn() {
// }

    public async Task Login()
    {
// accountLogin() {
        var loginRequest = new LoginRequest()
        {
            EcosystemId = "my-ecosystem",
            Email = "jane.doe@example.com"
        };

        var loginResult = await accountService.LoginAsync(loginRequest);
        
        // Email with code has been sent to `jane.doe@example.com`
        var loginCode = "012345";
        var finalLoginResult = await accountService.LoginConfirmAsync(loginResult.Challenge, loginCode);
// }
    }


// accountLoginConfirm() {
// }

    public async Task Info()
    {
// accountInfo() {
        var accountInfoResult = await accountService.InfoAsync();
// }
    }

// accountAuthorizeWebhook() {
// }

// END Doc Code generated by protoc-gen-trinsic. DO NOT EDIT.
}
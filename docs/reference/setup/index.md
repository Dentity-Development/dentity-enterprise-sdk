# Setup
## Installation

If you are ready to begin integrating the SDK into an existing project, make sure you have an SDK installed.
We currently provide a CLI, TypeScript, and C# SDKs for local development.

If you're here to just go through the walkthrough, check out our [Gitpod cloud environment](https://gitpod.io/#https://github.com/trinsic-id/sdk) for easy installation (You'll have to create a free account with gitpod).

=== "Trinsic CLI"

    --8<-- "setup/installation/install-cli.md"

=== "TypeScript"

    --8<-- "setup/installation/install-node.md"

=== "C#"

    --8<-- "setup/installation/install-net.md"

## Authorization

Trinsic Ecosystems uses authenticated access for accessing personal data. This is implemented using [Authorization Capabilities for Linked Data :material-open-in-new:](https://w3c-ccg.github.io/zcap-ld/){target=_blank} (ZCAP-LD for short). Zcaps provide a secure way for linked data systems to grant and express authority utilizing the object capability model. Our wallet capabilities are represented as linked data objects which are signed with Linked Data Proofs. LD Proofs represent the core technology of the way we share and exchange authentic data with others.

### Profile Data Format

Security Profiles are represented as a protobuf message that contains details about the connecting device to the remote cloud wallet. These are sensitive details that contain private key data, and must always be stored in a secure storage. The details of this data contract are expressed with this proto message.

```proto
message WalletProfile {
    google.protobuf.Struct did_document = 1;
    string wallet_id = 2;
    string invoker = 3;
    string capability = 4;
    bytes invoker_jwk = 5;
}
```

`did_document`
:   contains the DID Document generated by the device that will be used to access the remote wallet. Each device/profile will have a unique DID Document. The DID method used in this document is `did:key`.

`wallet_id`
:   represents the remote wallet identifier that this profile has been granted access.

`invoker`
:   represents the specific key in the DID Document that was granted capability authorization.

`capability`
:   represents the unique identifier of the z-cap that the `invoker` is allowed to access.

`invoker_jwk`
:   represents the key of the invoker in JWK format. This key is already present in the DID Document, we simply store it here in JWK format for convenience.

---

This profile is always stored in its binary form using the protobuf native serialization. A profile is created by using the [Create Wallet](/reference/services/wallet-service/#create-wallet) functionality in the SDK.



## Configuration

Trinsic SDK contains minimal configuration. This configuration is stored differently, depending on what package is used.

### Configuration with CLI

The CLI stores it's configuration in the user's home directory, typically in `~/.trinsic/`. This directory contains the main configuration file `config.toml` and all the profile data.

### Show Configuration

To print the current configuration file in the terminal use:

```bash
trinsic config --show
```

Typical configuration file may look like this:

```toml
[server]
address = "http://localhost:5000/"

[profile]
default = "my_profile"
```

### Update Configuration Entry

To change the configuration values, use the `config` subcommand with the attribute and it's value.

```bash
trinsic config <attribute_name> <attribute_value>
```

The following attributes are currently supported:

`server-address`
:   Updates the default server address the CLI communicates

    ```bash
    trinsic config --server-address https://example.com/
    ```

`profile-default`
:   Updates the default profile used with the CLI

    ```bash
    trinsic config --profile-default alice
    ```

### Configuration with SDK

When using the SDK in your code, you can pass parameters to the default service constructors and use the provided methods to set different active profiles.

=== "TypeScript"

    ```typescript
    import { WalletService } from '@trinsic/trinsic';

    // Set the server address
    const service = new WalletService("https://example.com");

    // Create new profile or import an existing one
    const myProfile = await service.createWallet();

    // Set the profile to be used with authorization pipeline
    service.setProfile(myProfile);
    ```

=== "C#"

    ```csharp
    using Trinsic;

    // Set the server address
    var service = new WalletService("https://example.com");

    // Create new profile or import an existing one
    var myProfile = await service.CreateWallet();

    // Set the profile to be used with authorization pipeline
    service.SetProfile(myProfile);
    ```


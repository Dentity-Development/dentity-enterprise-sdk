from trinsic.proto.sdk.options.v1 import ServiceOptions
from trinsic.proto.services.trustregistry.v1 import *
from trinsic.service_base import ServiceBase


class TrustRegistryService(ServiceBase):
    """
    Wrapper for [Trust Registry Service](/reference/services/trust-registry/)
    """

    def __init__(
        self,
        *,
        server_config: ServiceOptions = None,
    ):
        super().__init__(server_config)
        self.client: TrustRegistryStub = self.stub_with_metadata(TrustRegistryStub)

    async def search(
        self, *, request: SearchRegistryRequest = None
    ) -> SearchRegistryResponse:
        """
        [Search the registry](/reference/services/trust-registry/#search)
        Args:
        Returns:
            [SearchRegistryResponse](/reference/proto/#searchregistryresponse)
        """
        request = request or SearchRegistryRequest()
        request.query = request.query or "SELECT * FROM c OFFSET 0 LIMIT 100"
        return await self.client.search_registry(search_registry_request=request)

    # BEGIN Code generated by protoc-gen-trinsic. DO NOT EDIT.
    # target: ..\sdk\python\trinsic\trustregistry_service.py

    async def add_framework(
        self, *, request: AddFrameworkRequest
    ) -> AddFrameworkResponse:
        """
        Adds a trust registry defintion to the ecosystem
        """
        return await self.client.add_framework(request)

    async def remove_framework(
        self, *, request: RemoveFrameworkRequest
    ) -> RemoveFrameworkResponse:
        """ """
        return await self.client.remove_framework(request)

    async def search_registry(
        self, *, request: SearchRegistryRequest
    ) -> SearchRegistryResponse:
        """ """
        return await self.client.search_registry(request)

    async def register_member(
        self, *, request: RegisterMemberRequest
    ) -> RegisterMemberResponse:
        """
        Registers an authoritative issuer with a credential template
        """
        return await self.client.register_member(request)

    async def unregister_member(
        self, *, request: UnregisterMemberRequest
    ) -> UnregisterMemberResponse:
        """
        Removes an authoritative issuer with a credential template from the trust registry
        """
        return await self.client.unregister_member(request)

    async def get_membership_status(
        self, *, request: GetMembershipStatusRequest
    ) -> GetMembershipStatusResponse:
        """ """
        return await self.client.get_membership_status(request)

    async def fetch_data(
        self, *, request: FetchDataRequest
    ) -> AsyncIterator[FetchDataResponse]:
        """ """
        return await self.client.fetch_data(request)


# END Code generated by protoc-gen-trinsic. DO NOT EDIT.
